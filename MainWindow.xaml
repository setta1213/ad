<Window x:Class="StudentAdWindowsApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:tb="clr-namespace:H.NotifyIcon;assembly=H.NotifyIcon.Wpf"
        Title="Student AD Windows App" Height="450" Width="520"
		Icon="/assets/appicon.ico">
        

	<Grid>
		<tb:TaskbarIcon
            x:Name="MyNotifyIcon"
            IconSource="/assets/appicon.ico"
            ToolTipText="Student AD API is running"
            TrayMouseDoubleClick="NotifyIcon_DoubleClick">
			<tb:TaskbarIcon.ContextMenu>
				<ContextMenu>
					<MenuItem Header="เปิดหน้าต่างแอป" Click="NotifyIcon_DoubleClick" />
					<Separator />
					<MenuItem Header="ปิดโปรแกรม (Exit)" Click="Exit_Click" />
				</ContextMenu>
			</tb:TaskbarIcon.ContextMenu>
		</tb:TaskbarIcon>

		<StackPanel Margin="20">
			<TextBlock Text="Domain" />
			<TextBox x:Name="txtDomain" />

			<TextBlock Text="OU Path (DN)" Margin="0,10,0,0"/>
			<TextBox x:Name="txtOU" />

			<TextBlock Text="API Port" Margin="0,10,0,0"/>
			<TextBox x:Name="txtPort" Text="5000" />

			<TextBlock Text="Admin Username" Margin="0,10,0,0"/>
			<TextBox x:Name="txtUser" />

			<TextBlock Text="Admin Password" Margin="0,10,0,0"/>
			<PasswordBox x:Name="txtPass" />

			<StackPanel Orientation="Horizontal" Margin="0,20,0,0">
				<Button Content="Test Connection" Width="150" Click="Test_Click"/>
				<Button Content="Start API" Width="150" Margin="10,0,0,0" Click="Start_Click"/>
			</StackPanel>

			<TextBlock x:Name="txtStatus" Margin="0,20,0,0" Foreground="DarkGreen" FontWeight="Bold"/>
		</StackPanel>
	</Grid>
</Window>